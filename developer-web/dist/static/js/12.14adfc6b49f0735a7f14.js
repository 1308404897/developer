webpackJsonp([12],{hlf5:function(e,t){},ukok:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("0Njg"),i=a("R2SV"),l={name:"interfaces",data:function(){var e=this;return{form:{javaId:null},endListApi:r.f,javaListApi:r.s,filter:{id:null,name:null,url:null,javaId:null,endId:null},dataUrl:r.q,countUrl:r.p,params:{},toolbar:[{title:"更新接口",icon:"el-icon-plus",handler:this.openNewAddDialog}],columns:[{field:"id",header:"序号",sort:"id",width:90},{field:"name",header:"接口名称",sort:"name",width:200},{field:"method",header:"METHOD",sort:"method",width:80},{field:"deprecated",header:"废弃",sort:"deprecated",html:!0,width:80,formatter:function(e,t,a){return a?"是".fontcolor("red"):"否"}},{field:"url",header:"URL地址",sort:"url",width:120},{field:"end",header:"前端项目",sort:"fk_end_id",width:160},{field:"java",header:"java模块",sort:"fk_java_id",width:120},{field:"modifyTime",header:"更新时间",sort:"modify_time",width:200,formatter:function(e,t,a){return Object(i.a)(a)}},{field:"createTime",header:"添加时间",sort:"create_time",width:200,formatter:function(e,t,a){return Object(i.a)(a)}},{field:"action",header:"操作",width:130,html:!0,actions:[{text:function(e){return'<a href="#/manage/list/view/'+e.id+'" target="_blank">查看</a>'},handler:function(e){}},{text:"删除",handler:function(t){e.delete(t.id)}}]}]}},mounted:function(){this.action&&this.columns.push({field:"action",header:"操作",sort:"id",width:230,actions:this.action||[]})},methods:{delete:function(e){var t=this;this.$confirm("删除将无法恢复，确认删除吗？","提示",{type:"warning"}).then(function(){Object(r.d)(e).then(function(){t.$success("删除成功！"),t.search()})})},openNewAddDialog:function(){this.$refs.newAddDialog.open()},addInterfaces:function(){var e=this;this.$refs.addForm.validate(function(t){t&&Object(r.b)(e.form).then(function(t){e.$success("操作成功，更新接口条数："+t+"条"),e.search(),e.$refs.newAddDialog.close()})})},search:function(){this.params=Object(i.d)(this.filter)},clear:function(){this.params={},this.filter={}}},components:{"v-datagrid":function(){return a.e(20).then(a.bind(null,"mW4C"))},"v-selector":function(){return a.e(24).then(a.bind(null,"qNHp"))},"v-dialog":function(){return a.e(23).then(a.bind(null,"j9Pd"))}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h4",{staticClass:"title"},[e._v("筛选条件")]),e._v(" "),a("hr"),e._v(" "),a("div",{staticClass:"filters"},[a("el-form",{attrs:{inline:!0,model:e.filter,"label-width":"6em"}},[a("el-form-item",{attrs:{label:"接口名称"}},[a("el-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"URL"}},[a("el-input",{attrs:{placeholder:"请输入URL"},model:{value:e.filter.url,callback:function(t){e.$set(e.filter,"url",t)},expression:"filter.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"前端项目"}},[a("v-selector",{attrs:{id:"id",text:"name",onSelectionChanged:function(t){return e.filter.endId=(t[0]||{}).id},filterable:!0,remote:!0,placeholder:"请选择前端项目（可输入名称进行搜索）",url:e.endListApi}})],1),e._v(" "),a("el-form-item",{attrs:{label:"java项目"}},[a("v-selector",{attrs:{id:"id",text:"name",onSelectionChanged:function(t){return e.filter.javaId=(t[0]||{}).id},filterable:!0,remote:!0,placeholder:"请选择java项目（可输入名称进行搜索）",url:e.javaListApi}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"info",icon:"el-icon-delete"},on:{click:e.clear}},[e._v("清空")])],1)],1)],1),e._v(" "),a("h4",{staticClass:"title"},[e._v("接口列表")]),e._v(" "),a("hr"),e._v(" "),a("v-datagrid",{attrs:{columns:e.columns,"data-url":e.dataUrl,"count-url":e.countUrl,params:e.params,toolbar:e.toolbar}}),e._v(" "),a("v-dialog",{ref:"newAddDialog",attrs:{title:"更新接口",ok:e.addInterfaces}},[a("el-form",{ref:"addForm",attrs:{slot:"body",model:e.form,"label-width":"7em"},slot:"body"},[a("el-form-item",{attrs:{prop:"javaId",label:"选择java项目",required:"",rules:[{required:!0,message:"请选择一个java项目",trigger:["blur","change"]}]}},[a("v-selector",{attrs:{onSelectionChanged:function(t){return e.form.javaId=(t[0]||{}).id},id:"id",text:"name",filterable:!0,remote:!0,load:[e.form.javaId],placeholder:"请选择一个java项目（可输入商品名称进行搜索）",url:e.javaListApi}}),e._v(" "),a("el-input",{staticStyle:{display:"none"},model:{value:e.form.javaId,callback:function(t){e.$set(e.form,"javaId",t)},expression:"form.javaId"}})],1)],1)],1)],1)},staticRenderFns:[]};var o=a("C7Lr")(l,n,!1,function(e){a("hlf5")},"data-v-3bf34a31",null);t.default=o.exports}});
//# sourceMappingURL=12.14adfc6b49f0735a7f14.js.map