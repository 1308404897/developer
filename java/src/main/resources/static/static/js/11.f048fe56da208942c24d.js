webpackJsonp([11],{WC07:function(e,t){},vKqz:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=r("0Njg"),a=r("R2SV"),i={name:"interfaces",data:function(){var e=this;return{form:{javaId:null},endListApi:l.m,javaListApi:l.E,filter:{id:null,name:null,deprecated:null,url:null,controller:null,javaId:null,endId:null},dataUrl:l.z,countUrl:l.y,params:{},toolbar:[{title:"添加接口",icon:"el-icon-plus",handler:function(){return e.$router.push("/interfaces/edit")}}],columns:[{field:"id",header:"序号",sort:"id",width:90},{field:"name",header:"接口名称",sort:"name",width:200},{field:"method",header:"METHOD",sort:"method",width:80},{field:"deprecated",header:"废弃",sort:"deprecated",html:!0,width:80,formatter:function(e,t,r){return r?"是".fontcolor("red"):"否"}},{field:"controller",header:"控制器",sort:"controller",width:200},{field:"url",header:"URL地址",sort:"url",width:120},{field:"end",header:"前端项目",sort:"fk_end_id",width:160},{field:"java",header:"后端项目",sort:"fk_java_id",width:120},{field:"modifyTime",header:"更新时间",sort:"modify_time",width:200,formatter:function(e,t,r){return Object(a.b)(r)}},{field:"action",header:"操作",width:130,html:!0,actions:[{text:function(e){return'<a href="#/interfaces/view/'+e.id+'" target="_blank">查看</a>'},handler:function(e){}},{text:"删除",handler:function(t){e.delete(t.id)}}]}]}},mounted:function(){this.action&&this.columns.push({field:"action",header:"操作",sort:"id",width:230,actions:this.action||[]})},methods:{delete:function(e){var t=this;this.$confirm("删除将无法恢复，确认删除吗？","提示",{type:"warning"}).then(function(){Object(l.i)(e).then(function(){t.$success("删除成功！"),t.search()})})},openNewAddDialog:function(){this.$refs.newAddDialog.open()},addInterfaces:function(){var e=this;this.$refs.addForm.validate(function(t){t&&Object(l.d)(e.form).then(function(t){e.$success("操作成功，更新接口条数："+t+"条"),e.search(),e.$refs.newAddDialog.close()})})},search:function(){this.params=Object(a.g)(this.filter)},clear:function(){this.params={},this.filter={}}},components:{"v-datagrid":function(){return r.e(23).then(r.bind(null,"mW4C"))},"v-selector":function(){return r.e(26).then(r.bind(null,"qNHp"))},"v-dialog":function(){return r.e(25).then(r.bind(null,"j9Pd"))}}},n={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h4",{staticClass:"title"},[e._v("筛选条件")]),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"filters"},[r("el-form",{attrs:{inline:!0,model:e.filter,"label-width":"6em"}},[r("el-form-item",{attrs:{label:"接口名称"}},[r("el-input",{attrs:{placeholder:"请输入接口名称"},model:{value:e.filter.name,callback:function(t){e.$set(e.filter,"name",t)},expression:"filter.name"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"控制器"}},[r("el-input",{attrs:{placeholder:"请输入控制器"},model:{value:e.filter.controller,callback:function(t){e.$set(e.filter,"controller",t)},expression:"filter.controller"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"URL"}},[r("el-input",{attrs:{placeholder:"请输入URL"},model:{value:e.filter.url,callback:function(t){e.$set(e.filter,"url",t)},expression:"filter.url"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"是否废弃"}},[r("v-selector",{attrs:{data:{true:"是",false:"否"},onSelectionChanged:function(t){return e.filter.deprecated=(t[0]||{}).id},placeholder:"请选择是否废弃"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"前端项目"}},[r("v-selector",{attrs:{id:"id",text:"name",onSelectionChanged:function(t){return e.filter.endId=(t[0]||{}).id},filterable:!0,remote:!0,placeholder:"请选择前端项目（可输入名称进行搜索）",url:e.endListApi}})],1),e._v(" "),r("el-form-item",{attrs:{label:"后端项目"}},[r("v-selector",{attrs:{id:"id",text:"name",onSelectionChanged:function(t){return e.filter.javaId=(t[0]||{}).id},filterable:!0,remote:!0,placeholder:"请选择后端项目（可输入名称进行搜索）",url:e.javaListApi}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")]),e._v(" "),r("el-button",{attrs:{type:"info",icon:"el-icon-delete"},on:{click:e.clear}},[e._v("清空")])],1)],1)],1),e._v(" "),r("h4",{staticClass:"title"},[e._v("接口列表")]),e._v(" "),r("hr"),e._v(" "),r("v-datagrid",{attrs:{columns:e.columns,"data-url":e.dataUrl,"count-url":e.countUrl,params:e.params,toolbar:e.toolbar}}),e._v(" "),r("v-dialog",{ref:"newAddDialog",attrs:{title:"更新接口",ok:e.addInterfaces}},[r("el-form",{ref:"addForm",attrs:{slot:"body",model:e.form,"label-width":"7em"},slot:"body"},[r("el-form-item",{attrs:{prop:"javaId",label:"选择后端项目",required:"",rules:[{required:!0,message:"请选择一个后端项目",trigger:["blur","change"]}]}},[r("v-selector",{attrs:{onSelectionChanged:function(t){return e.form.javaId=(t[0]||{}).id},id:"id",text:"name",filterable:!0,remote:!0,load:[e.form.javaId],placeholder:"请选择一个后端项目（可输入商品名称进行搜索）",url:e.javaListApi}}),e._v(" "),r("el-input",{staticStyle:{display:"none"},model:{value:e.form.javaId,callback:function(t){e.$set(e.form,"javaId",t)},expression:"form.javaId"}})],1)],1)],1)],1)},staticRenderFns:[]};var o=r("C7Lr")(i,n,!1,function(e){r("WC07")},"data-v-64851682",null);t.default=o.exports}});
//# sourceMappingURL=11.f048fe56da208942c24d.js.map